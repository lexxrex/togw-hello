<script setup lang="ts">
// const appConfig = useAppConfig()
// const client = useSupabaseAuthClient()
// const user = useSupabaseUser()
// const supabase = useSupabaseClient()
// const loading = ref(false)
// const email = ref('')
const isOpen = ref(false)
const appConfig = useAppConfig()

// const logout = async () => {
//   await client.auth.signOut()
//   navigateTo('/')
// }

// const handleLogin = async () => {
//   try {
//     loading.value = true
//     const { error } = await supabase.auth.signInWithOtp({ email: email.value })
//     if (error) { throw error }
//     alert('Check your email for the login link!')
//   } catch (error) {
//     alert(error)
//   } finally {
//     loading.value = false
//   }
// }

</script>

<template>
  <header class="fixed top-0 left-0 right-0 py-2 z-10 backdrop-filter backdrop-blur-[16px] bg-white/80 dark:bg-gray-950/80 border-gray-200 dark:border-gray-900/70">
    <div class="container flex mx-auto flex-row items-center px-2">
      <!-- Head 1/3 -->
      <ClientOnly>
        <div class="flex flex-1 space-x-4 flex-row items-center justify-start">

          <div>
            <UTooltip text="注  转">
              <UButton
                :icon="'i-heroicons-scale-solid'"
                size="2xl"
                aria-label="Theme"
                @click="isOpen = true"
              />
              <UModal v-model="isOpen">
                <!-- Content -->
                <UContainer class="pt-8">
                  <div class="mx-auto w-36 h-36 md:w-42 md:h-42 lg:w-40 lg:h-40 bg-[url('/img/togw-logomark-app-black-on-white.jpg')] dark:bg-[url('/img/togw-logomark-app-white-on-zinc.jpg')] bg-contain" />

                  <UBadge :label="appConfig.version" color="red" size="xs" class="absolute top-4 end-4" />

                  <h1 class="text-center text-3xl font-black text-zinc-900 dark:text-zinc-200 pt-4">
                    注  转
                  </h1>
                  <span class="text-sm text-center text-gray-600 dark:text-gray-300 tracking-wide block mt-2">
                    转专 专砖 砖 拽爪转 注 
                  </span>
                  
                  <hr class="my-4 border-l-zinc-100 dark:border-zinc-900"/>
                  
                  <div class="flex flex-col md:flex-row max-w-xl text-gray-600 dark:text-gray-400">
                    <p class="flex-1 p-2">
                      <span class="font-semibold tracking-wide text-black dark:text-white">注 </span>
                       转爪 住  砖 专 砖注  转 转转 砖拽专转 砖   - 
                      转 砖拽专转 转 注转 转 转驻转转 转注, 注拽 注转 拽转 砖 注
                      <a href="https://t.me/therealnaturallaw/4" alt="拽 注 转" class="text-primary-700 dark:text-primary-500" >
                        拽 注 转
                      </a>
                      转.
                    </p>

                    <p class="flex-1 p-2">
                      <span class="font-semibold tracking-wide text-black dark:text-white">转</span>,
                        砖 驻专转    转 
                       <a href="https://t.me/therealnaturallaw/127" alt="驻转专  砖注" class="text-primary-700 dark:text-primary-500" >
                        驻转专 
                      </a>
                       砖   转 转 专 驻注 注,   砖 砖 转 爪专 爪转 砖 转, 住专, 驻砖 .
                    </p>
                  </div>

                  <NuxtLink to="https://t.me/lexxrex" target="_blank" class="flex justify-center mx-auto mt-4 mb-4 font-thin text-xs text-gray-500">
                    <!-- Made with  from わ for 锔 by Lex -->
                    Made with わ by Lex
                    <!-- 爪专 - わ 注" 拽住 -->
                  </NuxtLink>

                  <!-- <div class="flex flex-col md:flex-row items-center">
                    <div class="flex-1 py-4">
                    <UButton
                      label=" 转 拽 注"
                      variant="outline"
                      class="font-semibold"
                      color="gray"
                      size="sm"
                      block
                    />
                  </div>
                  <div class="flex-1 flex-shrink py-4">
                    <UButton
                      label="驻抓 砖转祝 转 注 住转专"
                      variant="outline"
                      class="font-semibold"
                      color="gray"
                      size="sm"
                      block
                    />
                    </div>
                  </div> -->
                </UContainer>
              </UModal>
            </UTooltip>
          </div>


          <!-- <NuxtLink to="/profile">
            <UAvatar alt="拽住 专拽住" size="sm" chip-color="primary" />
          </NuxtLink> -->
        </div>
      </ClientOnly>
      <!-- Head 2/3 -->
      <div class="flex-1 flex flex-row items-center justify-center">
        <!-- <UTooltip text="注  转">
          <NuxtLink to="/" class="flex items-center justify-center rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-900 w-12 h-12 my-1">
            <UIcon name="i-heroicons-scale" class="text-3xl" />
          </NuxtLink>
        </UTooltip> -->
      </div>
      <!-- Head 3/3 -->
      <div class="flex flex-1 flex-row items-center justify-end">
        <UTooltip text="">
          <UButton
            :icon="'i-heroicons-bolt-solid'"
            to="/welcome#hero"
            size="xl"
            class="ms-1 me-1"
            aria-label="Theme"
          />
        </UTooltip>
        <UTooltip text="砖转祝">
          <UButton
            :icon="'i-heroicons-camera-solid'"
            to="/welcome#media"
            class="me-1"
            size="xl"
            aria-label="Theme"
          />
        </UTooltip>


        <UTooltip text="爪 爪注" class="ms-1">
          <ColorModeButton/>
        </UTooltip>
        
        <!-- <div v-if="user">
          <UButton
            label="爪"
            class="mx-2 font-thin"
            color="white"
            variant="link"
            @click="isOpen = true"
          />
          <UModal v-model="isOpen">
              <form class="flex items-center justify-center" @submit.prevent="handleLogin">
                <UContainer class="text-center py-4">
                  <h1 class="text-2xl font-black text-zinc-900 dark:text-zinc-200 py-2">
                    注  转
                  </h1>

                  <hr class="my-3 border-l-zinc-100 dark:border-zinc-900"/>
                  
                  <p class="my-6 text-md text-zinc-800 dark:text-zinc-300">
                     砖专/ 爪
                  </p>

                  <div>
                    <UButton
                    :label="loading ? '注' : '砖专 爪'"
                    :disabled="loading"
                    variant="solid"
                    class="mt-4 text-white dark:text-white font-semibold"
                    color="primary"
                    size="xl"
                    block
                    @click="logout"
                  />
                  <span class="text-xs text-gray-400 dark:text-gray-700 block mt-2">转专转 拽专</span>
                </div>
              </UContainer>
            </form>
          </UModal>
        </div> -->
        <!-- <div v-if="!user">
          <UButton
            label="住"
            class="mx-2 font-thin"
            color="white"
            variant="link"
            @click="isOpen = true"
            />
            
            <UModal v-model="isOpen">
              <form class="flex items-center justify-center" @submit.prevent="handleLogin">
                <UContainer class="text-center py-4">
                  <h1 class="text-2xl font-black text-zinc-900 dark:text-zinc-200 py-2">
                    注  转
                  </h1>

                  <hr class="my-3 border-l-zinc-100 dark:border-zinc-900"/>
                  
                  <p class="my-6 text-md text-zinc-800 dark:text-zinc-300">
                    住/ 爪注转 拽砖专 驻 注 " 砖
                  </p>

                  <div>
                    <UInput
                    v-model="email"
                    type="email"
                    placeholder='" 砖'
                    size="md"
                  />
                  </div>
                  <div>
                    <UButton
                    :label="loading ? '注' : '砖 拽砖专 驻'"
                    :disabled="loading"
                    type="submit"
                    variant="solid"
                    class="mt-4 text-white dark:text-white font-semibold"
                    color="primary"
                    size="xl"
                    block
                  />
                  <span class="text-xs text-gray-400 dark:text-gray-700 block mt-2">  爪专 住住</span>
                </div>
              </UContainer>
            </form>
          </UModal>
        </div> -->
      </div>
    </div>
  </header>
</template>
