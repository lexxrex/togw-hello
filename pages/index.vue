<template>
  <div id="hero" class="container min-h-screen mx-auto pt-20 px-2">
    <h1
      ref="typingTitle"
      class="
        font-black
        text-6xl
        md:text-8xl
        lg:text-9xl
        tracking-[-0.0125em]
        mt-12
      ">
    </h1>
    <div
      ref="typingBody"
      :class="isDoneTyping ? 'mb-4' : 'mb-24 md:mb-36 lg:mb-48'"
      class="
        font-thin
        text-3xl
        md:text-4xl
        lg:text-5xl
        leading-[2.4rem]
        md:leading-[3rem]
        lg:leading-[4rem]
        mt-12
        md:mt-16
        lg:mt-20
      ">
    </div>
    
    <AppMediaGallery v-show="isDoneTyping" />

    <footer v-if="isDoneTyping" class="flex mx-auto flex-col justify-start px-2 mt-48 border-t border-gray-200 dark:border-gray-900">
      <div class="flex flex-col justify-start">

        <!-- BRANDIG -->
        <NuxtLink to="#hero" class="flex flex-1 flex-col justify-center mx-auto">
          <div class="mx-auto -mt-20 w-36 h-36 lg:w-36 lg:h-36 bg-[url('/img/togw-logomark-app-black-on-white.jpg')] dark:bg-[url('/img/togw-logomark-app-white-on-zinc.jpg')] bg-contain" />
          <h2 class="mt-4 font-black text-2xl md:text-3xl text-center">×”×¢×‘×•×“×” ×”×’×“×•×œ×” ×”××—×ª</h2>
        </NuxtLink>

        <!-- TELEGRAM -->
        <UButton to="https://t.me/theonegreatwork" target="_blank" label="×‘×˜×œ×’×¨×" color="primary" variant="solid" size="md" class="mx-auto mt-3 mb-6 hover:scale-[1.1] hover:rotate-[6deg]"/>
        
        <!-- QUOTE -->
        <p class="mx-auto mt-4 mb-2 font-thin text-sm text-center tracking-wider text-gray-500">×”×›×œ ×–×” ××”×‘×”, ×¤×—×“ ×”×•× ××©×œ×™×”, ×›×œ ×”×™×¦×•×¨×™× ×—×•×¤×©×™×™× ×•×”×××ª ×œ×¢×•×œ× ×œ× × ×™×ª× ×ª ×œ×”×›×—×“×”</p>
        <!-- LOVELEX -->
        <NuxtLink to="https://t.me/lexxrex" target="_blank" class="mx-auto mt-0 mb-4 font-thin text-xs">
          Made with â¤ï¸ by Lex
        </NuxtLink>

      </div>
    </footer>
  </div>
</template>

<script setup lang="js">
import TypeIt from 'typeit'

const typingBody = ref([])
const typingTitle = ref([])

onMounted(() => {
  isTypingTitle()
  // isTypingBody()

})

// ---------------------------------------------------
// SCROLL TO BOTTOM
function initAutoScrollToBottom() {
  window.scrollTo(0,document.body.scrollHeight)
}

// ---------------------------------------------------
// SHOW PAGE ITEMS
// var showPageItems = ref(false)

// function initShowPageItems() {
//   showPageItems.value = true
// }

// ---------------------------------------------------
// EMIT: Typing has completed
const emit = defineEmits(['doneTyping'])
const isDoneTyping = ref(false)


const emitDoneTyping = () => {
  emit('doneTyping', isDoneTyping.value = true)
  // emit('doneTyping', event.target.value)
}

// ---------------------------------------------------
// TYPING: Title
const isTypingTitle = function initTypingTitle() {
  new TypeIt(typingTitle.value, {
    strings: [],
    speed: 120,
    waitUntilVisible: true,
    afterComplete: function (instance) {
      instance.destroy(),
      isTypingBody()
    }
  })
 .pause(3333)
 .type('×”×¢×‘×•×“×” </span>')
 .options({ speed: 80 })
 .type('×”×××™×ª×™×ª ')
 .pause(333)
 .delete(8)
 .type('×”×—×©×•×‘×” ')
 .pause(222)
 .delete(7)
 .pause(140)
 .type('×”')
 .pause(555)
 .type('×™×—×™×“×”')
 .pause(666)
 .delete(7)
 .type(' ×”×’×“×•×œ×” ×”××—×ª')
 .type('</span>')
 .go()
}

// ---------------------------------------------------
// TYPING: Body
const isTypingBody = function initTypingBody() {
  new TypeIt(typingBody.value, {
    strings: [],
    speed: 60,
    waitUntilVisible: true,
    afterStep: () => {
      initAutoScrollToBottom()
    },
    afterComplete: (instance) => {
      instance.destroy(),
      // initShowPageItems(),
      initAutoScrollToBottom(),
      emitDoneTyping()
      // setTimeout(initAutoScrollToBottom(), 500)
    }    
  })
  .pause(2222)
  .options({ speed: 30 })
  .type('×ª×•×“×” ×©×”×’×¢×ª ×œ××ª×¨ ×©×œ ×§×‘×•×¦×ª ')
  .options({ speed: 50 })
  .type('<a href="https://t.me/theonegreatwork" target="_blank" class="font-black text-primary-500">×”×¢×‘×•×“×” ×”×’×“×•×œ×” ×”××—×ª</a>. ')
  .pause(777)
  .options({ speed: 25 })
  .type('×¤×” × ×™×ª×Ÿ ×œ×¨×›×•×© ×™×“×¢ ×¢×œ ×”×›×•×— ×©×œ ×¢×¦××š ×•××™×š ×œ×”×©×ª××© ×‘×•. ')
  .pause(777)
  .options({ speed: 40 })
  .type('×××š ×–×” ×™×“×¨×•×© ×–××Ÿ, ')
  .pause(444)
  .options({ speed: 30 })
  .type('×ª×©×•××ª ×œ×‘, ')
  .pause(333)
  .type('×•×›××•×‘×Ÿ ×¨×¦×•×Ÿ ×œ×œ××•×“ ××™×ª× ×• ××ª ×’×•×£ ×”×™×“×¢ ×”× ×¡×ª×¨ ×©×× ×• ×œ×•××“×™× ×•××§×“××™× ×‘×§×‘×•×¦×”. ')
  .pause(500)
  .type('×œ×¢×–×¨×¦×š -')
  .options({ speed: 80 })
  .move(-3)
  .delete(1)
  .type('×ª')
  .move(3)
  .pause(500)
  .move(-10)
  .pause(200)
  .type(' ×•×‘××ª×¨')
  .pause(200)
  .move(10)
  .type('<br>')
  .type('<br>')
  .options({ speed: 50 })
  .type('<span class="font-bold text-4xl md:text-5xl lg:text-6xl">×’×•×£ ×”×™×“×¢ ×”× ×¡×ª×¨</span>')
  .type('<br>')
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/4" target="_blank" class="hover:text-primary-500">âœ…&nbsp; ×¡××™× ×¨ ×”×—×•×§ ×”×˜×‘×¢×™ ×”×××™×ª×™</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/58" target="_blank" class="hover:text-primary-500">âœ…&nbsp; ×¢×‘×•×“×ª ×”×ª×–×”</a>')
  .type('<br>')
  .options({ speed: 25 })
  .type('<a href="https://t.me/therealnaturallaw/54" target="_blank" class="hover:text-primary-500">âœ…&nbsp; ×›×œ ×”×©×§×•×¤×™×•×ª</a>')
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/64" target="_blank" class="hover:text-primary-500">âœ…&nbsp; ×©××œ×•×ª ×¢×–×¨</a>') 
  .type('<br>')
  .type('<br>')
  .type('<span class="font-bold text-4xl md:text-5xl lg:text-6xl">×™×“×¢ × ×œ×•×•×” ×œ×—×•×§ ×”×˜×‘×¢×™ ×”×××™×ª×™</span>')
  .type('<br>')
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/1224" target="_blank" class="hover:text-primary-500">âš–ï¸&nbsp; ××”×™ ×”×××ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/69" target="_blank" class="hover:text-primary-500">ğŸ‘‘&nbsp; ××”×™ ×”×¢×‘×•×“×” ×”×’×“×•×œ×” ×”××—×ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/101" target="_blank" class="hover:text-primary-500">ğŸ‘&nbsp; ××” ×–×” ××•××¨ ×œ×”×™×•×ª ×¢×¨ ×‘×××ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/94" target="_blank" class="hover:text-primary-500">ğŸ˜ˆ&nbsp; ××” ×–×” ×©×˜× ×™×–× ×‘×××ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/81" target="_blank" class="hover:text-primary-500">â¤ï¸&nbsp; ××”×™ ××”×‘×ª ×××ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/110" target="_blank" class="hover:text-primary-500">ğŸ˜±&nbsp; ××”×• ×”×¤×—×“ ××”×§×¨×‘×”?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/135" target="_blank" class="hover:text-primary-500">ğŸ› &nbsp; ××”×™ ×¢×‘×•×“×ª ×”×¦×œ×œ×™×?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/138" target="_blank" class="hover:text-primary-500">ğŸ˜¡&nbsp; ××”×™ ×”××ª× ×” ×”××§×•×“×©×ª ×©×œ ×›×¢×¡?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/113" target="_blank" class="hover:text-primary-500">ğŸ™…â€â™€ï¸&nbsp; ××”×™ ×”× ×©×™×•×ª ×”×‘×œ×ª×™ ××§×•×“×©×ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/143" target="_blank" class="hover:text-primary-500">ğŸ™…â€â™‚ï¸&nbsp; ××”×• ×‘×•×œ×©×™×˜ ×”×¢×™×“×Ÿ ×”×—×“×©?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/144" target="_blank" class="hover:text-primary-500">â˜ ï¸&nbsp; ××”× ×©×‘×¢×ª ×”×—×˜××™× ×”×××™×ª×™×™×?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/140" target="_blank" class="hover:text-primary-500">ğŸ§ &nbsp; ××”×™ ×œ×•×—××” ×¤×¡×™×›×•×œ×•×’×™×ª?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/147" target="_blank" class="hover:text-primary-500">ğŸ’&nbsp; ××”×• ×”×˜×¨×™×‘×™×•×?</a>') 
  .type('<br>')
  .type('<a href="https://t.me/therealnaturallaw/127" target="_blank" class="hover:text-primary-500">ğŸ•Š&nbsp; ××”×• ×”×¤×ª×¨×•×Ÿ ×”×™×—×™×“ ×œ×©×™×¢×‘×•×“?</a>') 
  .type('<br>')
  .type('<br>')
  .type('<span class="font-bold text-4xl md:text-5xl lg:text-6xl">×œ××™×“×” ×¤×•×¨×™×” !</span>')
  .type('<br>')
  .type('<br>')
  .type('âš–ï¸ ğŸ•Š â¤ï¸')
  .type('<br>')
  .type('<br>')
  .type('×•×”× ×” ××¡×¤×¨ <a href="#media" alt="Media" class="font-semibold text-primary-500">×§×‘×¦×™ ××“×™×”</a> ×©×™×ª× ×• ×œ×š ×”×©×¨××” ×•×’× ×™×¢×–×¨×• ×œ×š ×œ×”×¢×‘×™×¨ ××ª ×”××¡×¨ ×›×©××©×ª×¤×™× ×¢× ××©×¤×—×” ×•×—×‘×¨×™×...')
  .type('<br>')
  .type('<br>')
  .type('ğŸ™ ğŸ‘‡')
  .go()
}

</script>

<style lang="postcss">
:root {
  --ti-cursor-color: #47ffd4;
}
</style>